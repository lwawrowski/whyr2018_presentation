<!DOCTYPE html>
<html>
  <head>
    <title>AI in turn based strategy game</title>
    <meta charset="utf-8">
    <meta name="author" content="Łukasz Wawrowski" />
    <link rel="stylesheet" href="default.css" type="text/css" />
    <link rel="stylesheet" href="default-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# AI in turn based strategy game
### Łukasz Wawrowski
### DOJI - Educational Innovations <br> Poznań University of Economics and Business

---




# Outline

1. Introduction

2. Turn based strategy games

3. Data analyst role

4. Minmax algorithm

5. Case study

6. Conclusions 

7. Further steps

---

# DOJI - Educational Innovations

Our goal is to transfer knowledge in the most efficient way - through the use of new technologies and original solutions. We specialize in creating e-learning products based on gamification. 

&lt;img src="coffee_noir.png" width="400"&gt;

More games and information at [doji.com.pl](https://doji.com.pl/)

---

# GAMEINN project

.pull-left[
**The National Centre for Research and Development** in 2017 announced

&lt;img src="gameinn.jpg" width="300"&gt;

]

--

.pull-right[
One of the 38 laureates is

&lt;img src="doji.png" width="300"&gt;

The purpose of project is to design and implement an **artificial intelligence** engine that delivers realistic gameplay in economic strategy games.

]


---

class: center, middle

# Turn based strategy games

---

# Tic-tac-toe

&lt;img src="tictactoe_google.png" height="500"&gt;

---

# Chess

&lt;img src="chess.jpg" height="500"&gt;

---
# Heroes of Might and Magic

&lt;img src="hereoes.jpg" height="500"&gt;

---

class: center, middle

# From idea to data

---

# Data analyst role

1. Conduct simulations

2. Try out AI algorithms

3. Answer questions:

    - how many units should fight?
    
    - how they should differ?
    
    - how to calculate damages?
    
    - how long game should last to be attractive?

---

# Units

At the begining we have 6 units with 3 characteristics:

- attack - strength of units

- initiative - determine order of attack in turn

- health points (HP) - life points


| Unit | Attack | Initiative | Health Points |
|------|-------:|-----------:|--------------:|
| U1   |  5     | 7          |           100 |
| U2   |  5     | 5 | 100 |
| U3   |  4     | 5 | 100 |
| U4   |  7     | 4 | 100 |
| U5   |  6     | 2 |  80 |
| U6   |  8     | 3 | 100 |

---

# Calculation of damages

Example function:

`\(HP = \beta_0 \cdot \beta_1^{(a_1-a_2)} \cdot \beta_2^{(h_1-h_2)} \cdot \psi\)`

where:

- `\(\beta_0\)` - base damages

- `\(\beta_1\)` - strength of attack coefficient

- `\(\beta_2\)` - HP difference coefficient

- `\(\psi\)` - luck factor

---

# Strength of attack coefficient

![](presentation_v2_files/figure-html/attack_coef-1.png)&lt;!-- --&gt;

---

# Types of AI

- random

- set of rules e.g. if unit is in cover then attack

- set of strategies e.g. attack the weakest unit

- **evaluation of game state** and select the best option

---

# Game tree

Game moves can be represent as a tree:

- node - game state

- branch - possible move

Complexity:

- `\(m\)` - possible moves each turn

- `\(n\)` - turns until game ends

- `\(m^n\)` - nodes in game tree

--

In case of chess it is ca. `\(20^{50}\)` nodes.

---

# MinMax algorithm

&lt;img src="minmax.png" height="300"&gt;

Choose move with highest heurestic value.

---

# Case study

Assumptions of the game:

- 2 teams with 5 units each

- battle will last until there is no alive units in one team

- AI has 3 levels of lookahead

--

Evaluation function

- number of HP

- bonus points if attack will eliminate unit

---

# Random vs. minmax

Intel Core i7-6700HQ CPU 2.60 GHz
16 GB RAM

100 battles:

- random - 45 seconds

- minmax - 35 minutes

--

Intel Pentium N3530 CPU 2.16 GHz
8 GB RAM

100 battles:

- random - 10 minutes

- minmax - I was afraid to try...

---

# Number of turns

![](presentation_v2_files/figure-html/number_turns-1.png)&lt;!-- --&gt;

---

# Alive units

![](presentation_v2_files/figure-html/number_alive-1.png)&lt;!-- --&gt;

---

# Number of attacks per unit

![](presentation_v2_files/figure-html/number_attack-1.png)&lt;!-- --&gt;

---

# Who was the main cause of death (1)

![](presentation_v2_files/figure-html/number_cause1-1.png)&lt;!-- --&gt;

---

# Who was the main cause of death (2)

![](presentation_v2_files/figure-html/number_cause2-1.png)&lt;!-- --&gt;

---

# Conclusion

- a lot of data to analyze

- evaluation function based on only one characteristic is not the best idea

- there is a need to add more features to units

- making a game is iterative process

---

# Further steps

- units will move on map

- use better heurestic function

- maybe cloud computing

- Turing test

---

class: middle, center

# Thank you for your attention
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
